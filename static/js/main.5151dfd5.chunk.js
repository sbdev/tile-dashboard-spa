(this["webpackJsonptile-dashboard-spa"]=this["webpackJsonptile-dashboard-spa"]||[]).push([[0],{18:function(t,e,a){t.exports={container:"stats-tile_container__1d8DT","color-0":"stats-tile_color-0__3q7SG","color-1":"stats-tile_color-1__1tA6B","color-2":"stats-tile_color-2__ec2BI","color-3":"stats-tile_color-3__1SUyV","color-4":"stats-tile_color-4__7rXqO","color-5":"stats-tile_color-5__3n0Ga","color-6":"stats-tile_color-6__3XNv8","color-7":"stats-tile_color-7__1S-fv","color-8":"stats-tile_color-8__33KEM","color-9":"stats-tile_color-9__3bykk"}},31:function(t,e,a){t.exports={container:"stats-summary_container__pErPy"}},35:function(t,e,a){t.exports=a(45)},40:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(26),c=a.n(r),i=(a(40),a(14)),l=a(2),s=a(15),d=a.n(s),u=a(18),_=a.n(u),m=function(t){var e=t.title,a=t.value,n=void 0===a?null:a,r=t.unit,c=void 0===r?"":r,i=(t.loading,t.color),l=void 0===i?0:i;return o.a.createElement("div",{className:d()(_.a.container,_.a["color-".concat(l)])},o.a.createElement("h1",null,e),o.a.createElement("h2",null,null!==n&&void 0!==n?n:"-"),o.a.createElement("h3",null,c))},h=a(33),v=a(27),f=a(34),p=a(28),b=a(29),g=a(48),E={cache:{},data:{filter:{stat:"1234"},values:[],aggregations:{}},isLoading:!0},j={data:E.data,client:null,isLoading:E.isLoading},O=o.a.createContext(j),y=function(){function t(e){Object(p.a)(this,t),this._dispatcher=void 0,this._dispatcher=e}return Object(b.a)(t,[{key:"load",value:function(t){var e=this;this._dispatcher({method:"setLoading",filter:t}),fetch("".concat("/tile-dashboard-spa/json/","/data-").concat(t.stat,".json")).then((function(t){return t.json()})).then((function(a){e._dispatcher({method:"setValues",values:a.data,filter:t})}))}},{key:"append",value:function(t,e){var a=this;this._dispatcher({method:"setLoading",filter:e}),setTimeout((function(){a._dispatcher({method:"appendValues",values:[t],filter:e})}),300)}}]),t}(),L=function(t,e){return"setLoading"===e.method?{data:{filter:e.filter,values:[],aggregations:{}},isLoading:!0,cache:t.cache}:(a="appendValues"===e.method&&t.cache[e.filter.stat]?Object(f.a)(t.cache[e.filter.stat]):[],Array.prototype.push.apply(a,e.values),{data:{filter:e.filter,values:a,aggregations:(n=a,{count:n.length,mean:Object(g.d)(Object(g.a)(n),1),median:Object(g.d)(Object(g.b)(n),1),std:Object(g.d)(Object(g.e)(n),1),mode:Object(g.d)(Object(g.c)(n),1)})},isLoading:!1,cache:Object.assign({},t.cache,Object(v.a)({},e.filter.stat,a))});var a,n},N=function(t){var e=t.children,a=t.route,r=Object(n.useReducer)(L,E),c=Object(h.a)(r,2),i=c[0],l=c[1],s=Object(n.useMemo)((function(){return new y(l)}),[]);Object(n.useEffect)((function(){var t;s.load({stat:null!==(t=a.params.stat)&&void 0!==t?t:"1234"})}),[s,a]);var d={data:i.data,isLoading:i.isLoading,client:s};return o.a.createElement(O.Provider,{value:d},e)},B=a(31),k=a.n(B),x=[{id:"mean",label:"Mean",unit:"mg/L"},{id:"median",label:"Median",unit:"mg/L"},{id:"std",label:"Standard Deviation",unit:"mg/L"},{id:"mode",label:"Mode",unit:"mg/L"}],M=function(){var t=o.a.useContext(O),e=t.data,a=t.isLoading,n=x.map((function(t,n){return o.a.createElement(m,{key:t.id,title:t.label,value:e.aggregations[t.id],unit:t.unit,color:n+1,loading:a})}));return o.a.createElement("div",{className:k.a.container},n)},C=a(8),V=a.n(C),w=function(){var t=Object(n.useRef)(null),e=Object(n.useContext)(O),a=e.data,r=e.client,c=e.isLoading;return o.a.createElement("header",{className:V.a.container},o.a.createElement("div",{className:V.a.navBar},o.a.createElement(i.b,{to:"/tile-dashboard-spa/stats/1234",className:V.a.navButton},"Load 1234"),o.a.createElement(i.b,{to:"/tile-dashboard-spa/stats/4321",className:V.a.navButton},"Load 4321")),o.a.createElement("div",{className:d()(V.a.dataEntry,c&&V.a.disabled)},o.a.createElement("input",{ref:t,type:"number"}),o.a.createElement("button",{className:V.a.addButton,onClick:function(){if(r&&t.current){var e;try{e=parseFloat(t.current.value)}catch(n){e=NaN}Number.isNaN(e)||(t.current.value="",r.append(e,a.filter))}}},"Add Value")))},R=function(t){var e=t.match;return o.a.createElement(N,{route:e},o.a.createElement(w,null),o.a.createElement(M,null))},S=function(){return o.a.createElement(i.a,null,o.a.createElement("div",{className:"viewport"},o.a.createElement(l.c,null,o.a.createElement(l.a,{path:"/tile-dashboard-spa/stats/:stat",component:R}),o.a.createElement(l.a,{path:"*",component:R}))))};c.a.render(o.a.createElement(S,null),document.getElementById("root"))},8:function(t,e,a){t.exports={container:"nav-header_container__3NHt4",navBar:"nav-header_navBar__3Rv3M",navButton:"nav-header_navButton__2zD4s ui-kit_button__10dfy",dataEntry:"nav-header_dataEntry__2-zN-",disabled:"nav-header_disabled__39XCR",addButton:"nav-header_addButton__1fsWd ui-kit_button__10dfy"}}},[[35,1,2]]]);
//# sourceMappingURL=main.5151dfd5.chunk.js.map