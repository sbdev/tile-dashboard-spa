(this["webpackJsonptile-dashboard-spa"]=this["webpackJsonptile-dashboard-spa"]||[]).push([[0],{18:function(t,e,a){t.exports={container:"stats-tile_container__1d8DT","color-0":"stats-tile_color-0__3q7SG","color-1":"stats-tile_color-1__1tA6B","color-2":"stats-tile_color-2__ec2BI","color-3":"stats-tile_color-3__1SUyV","color-4":"stats-tile_color-4__7rXqO","color-5":"stats-tile_color-5__3n0Ga","color-6":"stats-tile_color-6__3XNv8","color-7":"stats-tile_color-7__1S-fv","color-8":"stats-tile_color-8__33KEM","color-9":"stats-tile_color-9__3bykk"}},31:function(t,e,a){t.exports={container:"stats-summary_container__pErPy"}},35:function(t,e,a){t.exports=a(45)},40:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),i=(a(40),a(16)),l=a(2),s=a(13),d=a.n(s),u=a(18),_=a.n(u),m=function(t){var e=t.title,a=t.value,n=void 0===a?null:a,o=t.unit,c=void 0===o?"":o,i=(t.loading,t.color),l=void 0===i?0:i;return r.a.createElement("div",{className:d()(_.a.container,_.a["color-".concat(l)])},r.a.createElement("h1",null,e),r.a.createElement("h2",null,null!==n&&void 0!==n?n:"-"),r.a.createElement("h3",null,c))},v=a(33),h=a(27),f=a(34),p=a(28),b=a(29),g=a(48),E={cache:{},data:{filter:{stat:"1234"},values:[],aggregations:{}},isLoading:!0},j={data:E.data,client:null,isLoading:E.isLoading},O=r.a.createContext(j),y=function(){function t(e){Object(p.a)(this,t),this._dispatcher=void 0,this._dispatcher=e}return Object(b.a)(t,[{key:"load",value:function(t){var e=this;this._dispatcher({method:"setLoading",filter:t}),fetch("".concat("/tile-dashboard-spa/json/","/data-").concat(t.stat,".json")).then((function(t){return t.json()})).then((function(a){e._dispatcher({method:"setValues",values:a.data,filter:t})}))}},{key:"append",value:function(t,e){var a=this;this._dispatcher({method:"setLoading",filter:e}),setTimeout((function(){a._dispatcher({method:"appendValues",values:[t],filter:e})}),300)}}]),t}(),L=function(t,e){return"setLoading"===e.method?{data:{filter:e.filter,values:[],aggregations:{}},isLoading:!0,cache:t.cache}:(a="appendValues"===e.method&&t.cache[e.filter.stat]?Object(f.a)(t.cache[e.filter.stat]):[],Array.prototype.push.apply(a,e.values),{data:{filter:e.filter,values:a,aggregations:(n=a,{count:n.length,mean:Object(g.d)(Object(g.a)(n),1),median:Object(g.d)(Object(g.b)(n),1),std:Object(g.d)(Object(g.e)(n),1),mode:Object(g.d)(Object(g.c)(n),1)})},isLoading:!1,cache:Object.assign({},t.cache,Object(h.a)({},e.filter.stat,a))});var a,n},N=function(t){var e=t.children,a=t.route,o=Object(n.useReducer)(L,E),c=Object(v.a)(o,2),i=c[0],l=c[1],s=Object(n.useMemo)((function(){return new y(l)}),[]);Object(n.useEffect)((function(){var t;s.load({stat:null!==(t=a.params.stat)&&void 0!==t?t:"1234"})}),[s,a]);var d={data:i.data,isLoading:i.isLoading,client:s};return r.a.createElement(O.Provider,{value:d},e)},k=a(31),B=a.n(k),x=[{id:"mean",label:"Mean",unit:"mg/L"},{id:"median",label:"Median",unit:"mg/L"},{id:"std",label:"Standard Deviation",unit:"mg/L"},{id:"mode",label:"Mode",unit:"mg/L"}],M=function(){var t=r.a.useContext(O),e=t.data,a=t.isLoading,n=x.map((function(t,n){return r.a.createElement(m,{key:t.id,title:t.label,value:e.aggregations[t.id],unit:t.unit,color:n+1,loading:a})}));return r.a.createElement("div",{className:B.a.container},n)},V=a(8),C=a.n(V),S=["1234","4321"],w=function(){var t=Object(n.useRef)(null),e=Object(n.useContext)(O),a=e.data,o=e.client,c=e.isLoading,l=S.map((function(t){var e=t===a.filter.stat,n="Load ".concat(t);return r.a.createElement(i.b,{key:t,to:"/tile-dashboard-spa/stats/".concat(t),className:d()(C.a.navButton,e&&C.a.selected)},n)}));return r.a.createElement("header",{className:C.a.container},r.a.createElement("div",{className:C.a.navBar},l),r.a.createElement("div",{className:d()(C.a.dataEntry,c&&C.a.disabled)},r.a.createElement("input",{ref:t,type:"number"}),r.a.createElement("button",{className:C.a.addButton,onClick:function(){if(o&&t.current){var e;try{e=parseFloat(t.current.value)}catch(n){e=NaN}Number.isNaN(e)||(t.current.value="",o.append(e,a.filter))}}},"Add Value")))},R=function(t){var e=t.match;return r.a.createElement(N,{route:e},r.a.createElement(w,null),r.a.createElement(M,null))},A=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"viewport"},r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/tile-dashboard-spa/stats/:stat",component:R}),r.a.createElement(l.a,{path:"*",component:R}))))};c.a.render(r.a.createElement(A,null),document.getElementById("root"))},8:function(t,e,a){t.exports={container:"nav-header_container__3NHt4",navBar:"nav-header_navBar__3Rv3M",navButton:"nav-header_navButton__2zD4s ui-kit_button__10dfy",selected:"nav-header_selected__34kVS",dataEntry:"nav-header_dataEntry__2-zN-",disabled:"nav-header_disabled__39XCR",addButton:"nav-header_addButton__1fsWd ui-kit_button__10dfy"}}},[[35,1,2]]]);
//# sourceMappingURL=main.6d5dfaa4.chunk.js.map